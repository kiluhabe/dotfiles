#!/usr/bin/env bash

screen1=$(xrandr -q | grep "connected" | awk '/ connected/ {print $1}' | head -n 1)
screen2=$(xrandr -q | grep "connected" | awk '/ connected/ {print $1}' | tail -n 1)

Laptop=""
Monitor=""
Dualscreen=""
rofiopt="$Laptop\n$Monitor\n$Dualscreen"

rofi=$(printf "$rofiopt" | rofi -dmenu -i )

[ "$screen1" = "$screen2" ] && notify-send "Sceond Screen is not connected" && exit
[ -z "$rofi" ] && exit

reload() {
  [ -n "$(pgrep bspwm)" ] && bspc wm -r
}

case $rofi in
	$Laptop)
	xrandr --output $screen1 --auto
	xrandr --output $screen2 --off
	reload
	;;

	$Monitor)
	xrandr --output $screen2 --auto
	xrandr --output $screen1 --off
	reload
	;;

  $Dualscreen)
	xrandr --output $screen1 --auto
	xrandr --output $screen2 --right-of $screen1 --auto
	reload
esac